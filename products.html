<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CommsBlack Mobile — Products</title>

<!-- ===== ROBUST LAYOUT & GALLERY FALLBACK (FORCE CARD WIDTHS) ===== -->
<style>
  :root { --card-min: 320px; }

  .container { max-width: 1200px; margin-inline: auto; padding-inline: 1rem; }

  .card-grid {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 2rem !important;
    align-items: stretch !important;
  }
  .card {
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
    flex: 1 1 var(--card-min) !important;
    min-width: var(--card-min) !important;
    max-width: 100% !important;
    background: #0d2b2b;
    border-radius: 18px;
    padding: 0.75rem;
  }
  @media (min-width: 1200px) { .card { flex-basis: calc(25% - 2rem) !important; } }
  @media (min-width: 900px) and (max-width: 1199px)  { .card { flex-basis: calc(33.333% - 2rem) !important; } }
  @media (min-width: 600px) and (max-width: 899px)   { .card { flex-basis: calc(50% - 2rem) !important; } }

  .card h2 { color: #fff; margin: 0.25rem 0 0.5rem; }
  .muted { color: #c7e5e4; margin: 0 0 0.5rem; }

  /* Gallery base */
  .product-images, .cbm-gallery, .cbm-gallery-main { width: 100% !important; }
  .cbm-gallery { display: grid; gap: 0.75rem; }
  .cbm-gallery-main {
    position: relative; display: grid; place-items: center;
    background: #fafafa; border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px;
  }
  .cbm-gallery-main img { width: 100% !important; height: auto !important; object-fit: contain !important; max-height: 340px !important; border-radius: 8px; }
  @media (max-width: 640px){ .cbm-gallery-main img{ max-height: 260px !important; } }
  @media (min-width: 1024px){ .cbm-gallery-main img{ max-height: 380px !important; } }

  .cbm-gallery-btn {
    position: absolute; top: 50%; transform: translateY(-50%);
    border: none; background: rgba(17,24,39,.7); color:#fff;
    width: 40px; height: 40px; border-radius: 9999px; cursor: pointer;
    font-size: 20px; line-height: 40px; text-align: center;
  }
  .cbm-gallery-btn:hover { background:#00c2a8; }
  .cbm-gallery-btn.prev { left: 8px; }
  .cbm-gallery-btn.next { right: 8px; }

  .cbm-gallery-thumbs { display: grid; grid-auto-flow: column; gap: .5rem; overflow-x: auto; padding: .25rem 0 .75rem; scrollbar-width: none; }
  .cbm-gallery-thumbs::-webkit-scrollbar { display: none; }
  .cbm-thumb { width: 64px; height: 64px; padding: .25rem; border:1px solid #e5e7eb; border-radius: 8px; background:#fff; display:grid; place-items:center; }
  .cbm-thumb img { max-width: 100%; max-height: 100%; object-fit: contain; }
  .cbm-thumb[aria-selected="true"] { outline: 2px solid #00c2a8; outline-offset: 2px; }

  /* Global image safety */
  img { max-width: 100% !important; height: auto !important; }
</style>
</head>
<body>
  <header class="container" style="padding-block:1.25rem;">
    <h1 style="color:#fff;margin:0 0 .25rem;">Secure Communication Kits for Privacy &amp; Freedom</h1>
    <p class="muted">From everyday privacy to sovereign global connectivity — choose the kit that fits your lifestyle.</p>
  </header>

  <main class="container">
    <section class="card-grid" aria-label="CommsBlack product kits">

      <!-- Product 1 -->
      <article class="card">
        <h2>Everyday Aussie</h2>
        <div class="product-images">
          <img src="assets/img/products/product1.jpg" alt="GrapheneOS Pixel 8a front">
          <img src="assets/img/products/mission_darkness_phone.jpg" alt="Mission Darkness Dry Shield Faraday Phone Sleeve">
          <img src="assets/img/products/typea-c.jpg" alt="USB Type-C to USB-A adapter">
          <img src="assets/img/products/typec-c.jpg" alt="USB-C to USB-C cable">
        </div>
        <p class="muted">Privacy made simple</p>
        <ul>
          <li>GrapheneOS Pixel 8a</li>
          <li>Case + privacy screen</li>
          <li>Small Faraday bag</li>
          <li>USB-C adapter & cable</li>
        </ul>
        <p class="price">$1,300 AUD</p>
        <a class="btn" href="#checkout">Buy Now</a>
      </article>

      <!-- Product 2 -->
      <article class="card">
        <h2>Anonymous Aussie</h2>
        <div class="product-images">
          <img src="assets/img/products/product1.jpg" alt="GrapheneOS Pixel 8a front">
          <img src="assets/img/products/mission_darkness_phone.jpg" alt="Mission Darkness Dry Shield Faraday Phone Sleeve">
          <img src="assets/img/products/typea-c.jpg" alt="USB Type-C to USB-A adapter">
          <img src="assets/img/products/typec-c.jpg" alt="USB-C to USB-C cable">
        </div>
        <p class="muted">Anonymity without compromise</p>
        <ul>
          <li>GrapheneOS Pixel 8a</li>
          <li>Case + privacy screen</li>
          <li>Large Faraday bag</li>
          <li>USB-C adapter & cable</li>
        </ul>
        <p class="price">$1,900 AUD</p>
        <a class="btn" href="#checkout">Buy Now</a>
      </article>

      <!-- Product 3 -->
      <article class="card">
        <h2>Operator Aussie</h2>
        <div class="product-images">
          <img src="assets/img/products/product1.jpg" alt="GrapheneOS Pixel 8a front">
          <img src="assets/img/products/product2.jpg" alt="GrapheneOS Pixel 8a angled">
          <img src="assets/img/products/mission_darkness_tablet.jpg" alt="Mission Darkness Dry Shield Tablet Sleeve">
          <img src="assets/img/products/typea-c.jpg" alt="USB Type-C to USB-A adapter">
          <img src="assets/img/products/typec-c.jpg" alt="USB-C to USB-C cable">
        </div>
        <p class="muted">Air-gapped security for high-risk work</p>
        <ul>
          <li>GrapheneOS Pixel 8a (airplane mode enforced)</li>
          <li>Case + privacy screen</li>
          <li>Large Faraday bag</li>
          <li>USB-C adapter & cable</li>
        </ul>
        <p class="price">$2,400 AUD</p>
        <a class="btn" href="#checkout">Buy Now</a>
      </article>

      <!-- Product 4 -->
      <article class="card">
        <h2>Sovereign Aussie</h2>
        <div class="product-images">
          <img src="assets/img/products/product1.jpg" alt="GrapheneOS Pixel 8a front">
          <img src="assets/img/products/product3.jpg" alt="Satellite connectivity accessory">
          <img src="assets/img/products/mission_darkness_tablet.jpg" alt="Mission Darkness Dry Shield Tablet Sleeve">
          <img src="assets/img/products/typea-c.jpg" alt="USB Type-C to USB-A adapter">
          <img src="assets/img/products/typec-c.jpg" alt="USB-C to USB-C cable">
        </div>
        <p class="muted">Secure connectivity anywhere on Earth</p>
        <ul>
          <li>GrapheneOS Pixel 8a (airplane mode enforced)</li>
          <li>Case + privacy screen</li>
          <li>Large Faraday bag</li>
          <li>Privacy router + anonymous eSIM</li>
          <li>Encrypted VoIP app & number</li>
          <li>Satellite option</li>
          <li>USB-C adapter & cable</li>
        </ul>
        <p class="price">$3,300 AUD</p>
        <a class="btn" href="#checkout">Buy Now</a>
      </article>

    </section>
  </main>

  <footer class="container" style="padding:2rem 0; color:#c7e5e4;">© 2025 CommsBlack Mobile. All rights reserved.</footer>

<!-- ===== Gallery Script (arrows + thumbnails + lightbox) ===== -->
<script>
(function () {
  // Lightbox shell
  let lb = document.createElement('div');
  lb.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;place-items:center;z-index:9999;padding:1rem;';
  lb.innerHTML = '<button style="position:absolute;top:1rem;right:1rem;font-size:2rem;background:#00c2a8;border:none;color:#fff;border-radius:8px;padding:.2rem .6rem;cursor:pointer">×</button><img alt="Expanded image" style="max-width:95vw;max-height:90vh;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.4)">';
  const closeBtn = lb.querySelector('button'), lbImg = lb.querySelector('img');
  closeBtn.onclick = () => (lb.style.display='none', lbImg.src='');
  lb.onclick = (e) => { if (e.target === lb) closeBtn.click(); };
  document.addEventListener('keydown', (e)=>{ if (e.key==='Escape' && lb.style.display==='grid') closeBtn.click(); });
  document.addEventListener('DOMContentLoaded', () => document.body.appendChild(lb));

  function buildGallery(container) {
    const imgs = Array.from(container.querySelectorAll('img'));
    if (!imgs.length) return;

    const gallery = document.createElement('div'); gallery.className = 'cbm-gallery';
    const main = document.createElement('div'); main.className = 'cbm-gallery-main';
    const mainImg = document.createElement('img'); Object.assign(mainImg, {src: imgs[0].src, alt: imgs[0].alt||''});
    mainImg.style.cursor='zoom-in'; mainImg.addEventListener('click', ()=>{ lbImg.src = mainImg.src; lbImg.alt = mainImg.alt; lb.style.display='grid'; });
    const prev = document.createElement('button'); prev.className='cbm-gallery-btn prev'; prev.type='button'; prev.setAttribute('aria-label','Previous image'); prev.textContent='‹';
    const next = document.createElement('button'); next.className='cbm-gallery-btn next'; next.type='button'; next.setAttribute('aria-label','Next image'); next.textContent='›';
    main.appendChild(mainImg); main.appendChild(prev); main.appendChild(next);

    const thumbs = document.createElement('div'); thumbs.className = 'cbm-gallery-thumbs';
    imgs.forEach((img, i)=>{
      const t = document.createElement('button'); t.className='cbm-thumb'; t.type='button'; t.setAttribute('aria-selected', i===0?'true':'false');
      const ti = document.createElement('img'); ti.src = img.src; ti.alt = img.alt || '';
      t.appendChild(ti); t.addEventListener('click', ()=>select(i)); thumbs.appendChild(t);
    });

    let current = 0;
    function select(i){
      const n = imgs.length; current = ((i % n) + n) % n;
      mainImg.src = imgs[current].src; mainImg.alt = imgs[current].alt || '';
      Array.from(thumbs.children).forEach((el, j)=> el.setAttribute('aria-selected', j===current?'true':'false'));
    }
    prev.addEventListener('click', ()=>select(current-1));
    next.addEventListener('click', ()=>select(current+1));

    gallery.appendChild(main); gallery.appendChild(thumbs);
    container.innerHTML = ''; container.appendChild(gallery);
    select(0);
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    document.querySelectorAll('.product-images').forEach(buildGallery);
  });
})();
</script>
</body>
</html>
